{
"title": "Fenwick Tree 2D / Multidimensional",
"subtitle": "Efficient 2D prefix sums with updates",
"time_complexity": "O(log N * log M) per update/query",
"space_complexity": "O(N*M)",
"category": "Data Structure / 2D Queries",
"code": [
    "class FenwickTree2D:",
    "    def __init__(self, n, m):",
    "        self.n = n",
    "        self.m = m",
    "        self.tree = [[0]*(m+1) for _ in range(n+1)]",
    "    def update(self, x, y, val):",
    "        i = x",
    "        while i <= self.n:",
    "            j = y",
    "            while j <= self.m:",
    "                self.tree[i][j] += val",
    "                j += j & -j",
    "            i += i & -i",
    "    def query(self, x, y):",
    "        res = 0",
    "        i = x",
    "        while i > 0:",
    "            j = y",
    "            while j > 0:",
    "                res += self.tree[i][j]",
    "                j -= j & -j",
    "            i -= i & -i",
    "        return res",
    "    def query_rect(self, x1, y1, x2, y2):",
    "        return self.query(x2,y2) - self.query(x1-1,y2) - self.query(x2,y1-1) + self.query(x1-1,y1-1)"
],
"additional_information": "2D Fenwick Tree efficiently supports point updates and rectangular sum queries."
}
